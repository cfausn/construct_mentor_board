<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Construct Mentor Board</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- Custom styles for this template -->
    <link href="css/freelancer.css" rel="stylesheet">

  </head>

  <body id="page-top">

    <!-- Header -->
    <header class="masthead">
      <div class="container">
        <div class="intro-text">
          <span class="name">The Construct</span>
          <span class="skills">Mentors On Duty</span>
          <hr class="star-light">
          <div class="mentors">
            <div class="row">
              <h1 class="col col-md-5" id="mentorOne"></h1>
              <h1 class="col col-md-1"></h1>
              <h3 class="col col-md-5" id="mentorOneStatus"></h3>
            </div>
          </div>
          <div class="mentors">
            <div class="row">
              <h1 class="col col-md-5" id="mentorTwo"></h1>
              <h1 class="col col-md-1"></h1>
              <h3 class="col col-md-5" id="mentorTwoStatus"></h3>
            </div>
          </div>

          <div class="mentors">
            <div class="row">
              <h1 class="col col-md-5" id="mentorThree"></h1>
              <h1 class="col col-md-1"></h1>
              <h3 class="col col-md-5" id="mentorThreeStatus"></h3>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/popper/popper.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>

    <!-- Custom scripts for this template -->
    <script src="js/freelancer.js"></script>

    <script src="js/papaparse.min.js"></script>
    <script src="js/jquery-3.2.1.min.js"></script>

    <script>
      var csvfile = "data/schedules.csv";
      var parsedData;

      function getStats(){
        $.get(csvfile, function (data) {
          parsedData = Papa.parse(data);
          console.log(data)
          console.log(parsedData);
          console.log(parsedData['data'][1][3]);
          var mentorOne = parsedData['data'][1];
          var mentorTwo = parsedData['data'][2];
          var mentorThree = parsedData['data'][3];

          if(mentorOne[3] == 'True'){
            document.getElementById('mentorOne').innerHTML = mentorOne[0];
            var statusCode = mentorOne[4];
            if(statusCode == '0'){
              document.getElementById('mentorOneStatus').innerHTML = "Unavailable";
              document.getElementById('mentorOneStatus').style.color = 'red';
            }
            else if (statusCode == '1') {
              document.getElementById('mentorOneStatus').innerHTML = "Available";
              document.getElementById('mentorOneStatus').style.color = 'green';
            }
            else if (statusCode == '2') {
              document.getElementById('mentorOneStatus').innerHTML = "Helping Someone";
              document.getElementById('mentorOneStatus').style.color = 'yellow';}
          }
          else{
            document.getElementById('mentorOne').innerHTML = "";
            document.getElementById('mentorOneStatus').innerHTML = "";
          }

          if(mentorTwo[3] == 'True'){
            document.getElementById('mentorTwo').innerHTML = mentorTwo[0];
            var statusCode = mentorTwo[4];
            if(statusCode == '0'){
              document.getElementById('mentorTwoStatus').innerHTML = "Unavailable";
              document.getElementById('mentorTwoStatus').style.color = 'red';
            }
            else if (statusCode == '1') {
              document.getElementById('mentorTwoStatus').innerHTML = "Available";
              document.getElementById('mentorTwoStatus').style.color = 'green';
            }
            else if (statusCode == '2') {
              document.getElementById('mentorTwoStatus').innerHTML = "Helping Someone";
              document.getElementById('mentorTwoStatus').style.color = 'yellow';}
          }
          else{
            document.getElementById('mentorTwo').innerHTML = "";
            document.getElementById('mentorTwoStatus').innerHTML = "";
          }
          if(mentorThree[3] == 'True'){
            document.getElementById('mentorThree').innerHTML = mentorThree[0];
            var statusCode = mentorThree[4];
            if(statusCode == '0'){
              document.getElementById('mentorThreeStatus').innerHTML = "Unavailable";
              document.getElementById('mentorThreeStatus').style.color = 'red';
            }
            else if (statusCode == '1') {
              document.getElementById('mentorThreeStatus').innerHTML = "Available";
              document.getElementById('mentorThreeStatus').style.color = 'green';
            }
            else if (statusCode == '2') {
              document.getElementById('mentorThreeStatus').innerHTML = "Helping Someone";
              document.getElementById('mentorThreeStatus').style.color = 'yellow';}
          }
          else {
            document.getElementById('mentorThree').innerHTML = "";
            document.getElementById('mentorThreeStatus').innerHTML = "";
          }
        });
        setTimeout(getStats, 5000);
      }

      getStats();


    </script>

  </body>

</html>
